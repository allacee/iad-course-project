{"version":3,"sources":["Components/SignUpComponent.jsx","Components/LoginComponent.jsx","Components/AuthComponent.jsx","Components/HeaderComponent.jsx","Components/Header.jsx","Components/StartPage.jsx","Components/MenuComponent.jsx","Components/SomeInfoxImgComponent.jsx","Components/RatingComponent.jsx","Components/Main.jsx","Components/AllTopicsComponent.jsx","Components/AllSectionsComponent.jsx","Components/ForumSectionsComponent.jsx","Components/ForumTopicsComponent.jsx","Components/AvatarComponent.jsx","Components/ComentstoRecord.jsx","Components/RecordsComponent.jsx","Components/ForumRecordsComponent.jsx","Components/UsertoMessageComponent.jsx","Components/MessageComponent.jsx","Components/DialogWithUsers.jsx","Components/Profile/Line.jsx","Components/Profile/ProfileInfo.jsx","Components/Profile/ProfileEdit.jsx","Components/Profile/Profile.jsx","Components/BoatConstructor/BoatPropertyProgress.jsx","Components/BoatConstructor/PropertyInfo.jsx","Components/BoatConstructor/BoatInfo.jsx","Components/BoatConstructor/DetailsGroup.jsx","Components/BoatConstructor/Tooltip.jsx","Components/BoatConstructor/BoatConstructor.jsx","App.js","serviceWorker.js","index.js","Components/utocka.png","react-toolbox/theme.js"],"names":["SignUpComponentToConnect","state","username","password","error","didSignUp","handleChange","name","value","_this","setState","Object","objectSpread","defineProperty","toLogin","props","dispatch","type","setError","msg","signUp","length","reg","test","fetch","method","body","JSON","stringify","then","response","ok","json","resp","success","catch","err","message","statusText","react_default","a","createElement","Button_default","onClick","this","flat","renderAfterSignUp","input_default","label","id","onChange","bind","style","color","className","raised","primary","marginRight","Component","SignUpComponent","connect","LoginComponentToConnect","toSignUp","login","window","location","href","LoginComponent","AuthComponent","isRegistration","Components_SignUpComponent","Components_LoginComponent","HeaderComponent","author1","author2","group","Header","authStore","createStore","action","newState","assign","errorMsg","successMsg","pathname","document","title","MenuComponent","logout","cookie","AppBar_default","theme","Navigation_default","Link","to","SomeInfoxImgComponent","some","info","innerWidth","src","utocka","width","height","RatingComponent","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","users","console","log","forceUpdate","alert","table","i","p","push","rate","sportRate","initialState","parts","split","pop","shift","getUsername","dataStore","StartPage","onMessage","NotificationManager","data","onOpen","handleSnackbarClick","event","instance","active","webSocket","WebSocket","onmessage","onopen","onclose","onerror","es","store","Components_MenuComponent","Components_SomeInfoxImgComponent","lib","class","Components_RatingComponent","Components_HeaderComponent","AllTopicsComponent","topics","path","list","sublink","link","topicName","AllSectionsComponent","sections","sectionName","ForumSectionsComponent","Components_AllSectionsComponent","indexOf","ForumTopicsComponent","Components_AllTopicsComponent","AvatarComponent","react_image_fallback_lib_default","userid","fallbackImage","initialImage","customStyles","content","top","left","right","bottom","transform","ComentstoRecordComponent","coments","nowuser","modalchangecomIsOpen","changecom","changecomid","changei","user","delcoment","comentid","groups","removeItem","changecoment","change","getElementById","FormData","set","coment","closeModalchangecom","recordid","newcoment","prevState","records","update","$splice","_this2","headline","headlineuser","open","_loop","author","w","Components_AvatarComponent","settochangecom","react_modal_lib_default","isOpen","onRequestClose","contentLabel","screen","RecordsComponent","modalrecordIsOpen","modalcomentIsOpen","modalchangerecIsOpen","changerecord","changerecordid","delrecord","addrecord","newRecord","closeModalrecord","record","closeModalchangerec","addcoment","text","closeModalcoment","path0","path1","nametheme","Components_ComentstoRecord","settochangerec","setrecordid","decodeURI","openModalrecord","toggleChildMenu","ForumRecordsComponent","Components_RecordsComponent","UsertoMassageComponent","tomail","sendmessage","mail","closeModalmessage","email","settomaild","MessageComponent","UsertoMessageComponent","DialogWithUsersComponent","mes","slice","sort","b","date","messageText","Line","ProfileInfo","userAvatar","enctype","accept","Profile_Line","birthday","gender","ProfileEdit","cancelEditing","toProfileInfo","saveChanges","Redirect","required","maxLength","Profile","currentUser","selectedUser","match","Route","exact","render","Profile_ProfileEdit","Profile_ProfileInfo","BoatPropertyProgress","min","max","PropertyInfo","Tooltip","toggle","assertThisInitialized","opacity","tooltipNode","ReactDOM","findDOMNode","offsetTop","offsetLeft","zIndex","display","onMouseEnter","onMouseOut","children","speedEffect","boostEffect","controllabilityEffect","weight","price","React","BoatConstructor","getProducers","producers","activeProducer","getBoats","boats","activeBoat","countProperties","addDetail","detail","types","details","deleteDetail","index","speed","boost","control","splice","createDetailsGroupsFromProducer","producer","groupsNames","detailsGroups","j","detailsPics","forEach","boostEffect1","controllabilityEffect1","speedEffect1","price1","weight1","detailCard","BoatConstructor_Tooltip","handleBoatChange","e","selectItem","options","selectedIndex","handleProducerChange","createBoatsOptions","createProducersOptions","maxWeight","loadCapacity","maxSpeed","controllability","createDetailsTags","tags","_loop2","App","BrowserRouter","Switch","component","Dialog","Message","ForumRecords","ForumTopics","ForumSections","Main","Boolean","hostname","ThemeProvider_default","src_App_0","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","RTButton","button","rippleWrapper","squared","icon","solid","floating","mini","accent","neutral","inverse","RTRipple","ripple","rippleRestarting","rippleActive","RTInput","input","withIcon","inputElement","bar","fixed","hint","filled","counter","disabled","errored","hidden","RTNavigation","horizontal","vertical","RTLink","RTAppBar","appBar","scrollHide","inner","leftIcon","rightIcon"],"mappings":"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","file":"static/js/main.1d9e7b5b.chunk.js","sourcesContent":["\r\nimport React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Input from 'react-toolbox/lib/input';\r\nimport Button from 'react-toolbox/lib/button/Button';\r\n\r\nclass SignUpComponentToConnect extends Component {\r\n    state = { username: '', password: '', error: '', didSignUp: false };\r\n\r\n    handleChange = (name, value) => {\r\n        this.setState({ ...this.state, [name]: value });\r\n    };\r\n\r\n    toLogin = () => this.props.dispatch({\r\n        type: 'SET_REGISTRATION',\r\n        value: false\r\n    });\r\n\r\n    setError = (msg) => {\r\n        this.handleChange('error', msg);\r\n    };\r\n\r\n    signUp = () => {\r\n        if (this.state.username === null || this.state.username.length < 1) {\r\n            this.setError('Необходимо ввести имя пользователя.');\r\n            return;\r\n        }\r\n        else {\r\n            if (reg.test(this.state.username) === false  & this.state.username.length > \r\n            1 & this.state.username != null){\r\n               this.setError('Необходимо ввести имя пользователя в формате email');\r\n            return; \r\n            }\r\n        }\r\n        if (this.state.password === null || this.state.password.length < 1) {\r\n            this.setError('Необходимо ввести пароль.');\r\n            return;\r\n        }\r\n\r\n        fetch('/users/registration/new', { //адресс на беке регистрации \r\n            method: 'POST',\r\n            body: JSON.stringify({ username: this.state.username, password: this.state.password }) //в каком формете передать\r\n        })\r\n        .then((response) => {\r\n            if (!response.ok)\r\n                this.setError('Ошибка: неверный ответ от сервера.');\r\n            else {\r\n                response.json().then((resp) => {\r\n                    if (resp.success === \"true\") {\r\n                        this.setError('');\r\n                        this.handleChange('didSignUp', true);\r\n                    }\r\n                    else {\r\n                        this.setError(resp.error);      //отловить illega exception с бека \r\n                    }\r\n                }).catch((err) => {\r\n                    this.handleChange('error', err.message);\r\n                });\r\n\r\n            }\r\n        })\r\n        .catch((error) => {\r\n           this.setError(\"Не получилось отправить запрос: \" + error.statusText);\r\n        });\r\n    };\r\n\r\n    renderAfterSignUp() {\r\n        return (\r\n            <div>\r\n                <h2>Регистрация успешно выполнена</h2>\r\n                <Button onClick={this.toLogin} flat>Перейти к авторизации</Button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        if (this.state.didSignUp)\r\n            return this.renderAfterSignUp();\r\n\r\n        return (\r\n            <div>\r\n                <form>\r\n                    <b>Регистрация</b>\r\n                    <Input type='email' label='Email address' id=\"user\"  name=\"username\" value={this.state.username}\r\n                           onChange={this.handleChange.bind(this, 'username')} />\r\n                    <Input type=\"password\" id=\"pass\" label=\"Пароль\" name=\"password\" value={this.state.password}\r\n                           onChange={this.handleChange.bind(this, 'password')} />\r\n\r\n                    \r\n                    <span style={{color: \"red\"}}> {this.state.error} </span>\r\n                   \r\n                        <br/>\r\n                    <Button className=\"button2\"  raised primary style={{marginRight: '5px'}} onClick={this.signUp}>Зарегистрироваться</Button>\r\n                    <Button className=\"button2\" onClick={this.toLogin} flat>Авторизация</Button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\nconst SignUpComponent = connect()(SignUpComponentToConnect);\r\nexport default SignUpComponent;","\r\nimport React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Input from 'react-toolbox/lib/input';\r\nimport Button from 'react-toolbox/lib/button/Button';\r\n\r\nclass LoginComponentToConnect extends Component {\r\n    state = { username: '', password: '', error: '' };\r\n\r\n    handleChange = (name, value) => {\r\n        this.setState({ ...this.state, [name]: value });\r\n    };\r\n\r\n    toSignUp = () => this.props.dispatch({\r\n        type: 'SET_REGISTRATION',\r\n        value: true\r\n    });\r\n\r\n    login = () => {\r\n        if (this.state.username === null || this.state.username.length < 1) {\r\n            this.handleChange('error', 'Необходимо ввести имя пользователя.');\r\n            return;\r\n        }\r\n        if (this.state.password === null || this.state.password.length < 1) {\r\n            this.handleChange('error', 'Необходимо ввести пароль.');\r\n            return;\r\n        }\r\n\r\n        fetch('j_security_check', {            //изменить адресс в сооьветствии с беком \r\n            method: 'POST',\r\n            body: JSON.stringify({ username: this.state.username, password: this.state.password }) //в каком виде передать \r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n                        if (resp.success === \"true\") {\r\n                            this.handleChange('error', '');\r\n                            window.location.href = \"/competitions/all\";            //страничка пользовател например профиль пользователя \r\n                        }\r\n                        else {\r\n                            this.handleChange('error', resp.error);\r\n                        }\r\n                    }).catch((err) => {\r\n                        this.handleChange('error', err.message);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                this.handleChange('error', \"Не получилось отправить запрос: \" + error.statusText);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <form>\r\n                    <b>Авторизация</b><br />\r\n                    <Input type='email' label='Email address' id=\"user\" name=\"username\" value={this.state.username}\r\n                            onChange={this.handleChange.bind(this, 'username')} />\r\n                    <Input type=\"password\" id=\"pass\" label=\"Пароль\" name=\"password\" value={this.state.password}\r\n                            onChange={this.handleChange.bind(this, 'password')} />\r\n\r\n                    \r\n                    <span style={{color: \"red\"}}> {this.state.error} </span>\r\n                     <br/>\r\n                    <Button className=\"button1\" raised primary style={{marginRight: '5px'}} onClick={this.login}>Войти</Button>\r\n                    <Button className=\"button2\" onClick={this.toSignUp} flat>Перейти к регистрации</Button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst LoginComponent = connect()(LoginComponentToConnect);\r\nexport default LoginComponent;\r\n","\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport SignUpComponent from '../Components/SignUpComponent';\r\nimport LoginComponent from '../Components/LoginComponent';\r\n\r\nconst AuthComponentToConnect = function (props) {\r\n    if (props.isRegistration) {\r\n        return <SignUpComponent />;\r\n    }\r\n    else {\r\n        return <LoginComponent />;\r\n    }\r\n};\r\n\r\nconst AuthComponent = connect((state) => state)(AuthComponentToConnect);\r\nexport default AuthComponent;","\r\nimport React from 'react';\r\n\r\nfunction HeaderComponent(props) {\r\n    return (\r\n        <div id=\"bottomhead\">\r\n            {props.author1}, {props.author2} {props.group}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default HeaderComponent;","\r\nimport React from 'react';\r\nimport { Component } from 'react';\r\n\r\nclass Header extends Component {\r\n\trender () {\r\n\t\treturn (\r\n<div > Добро пожаловать на сайт лодочного клуба <br/>\r\n\"Желтая уточка\"! </div>\r\n\t\t\t)\r\n\t}\r\n}\r\n\r\nexport default Header;","\nimport AuthComponent from '../Components/AuthComponent';\nimport HeaderComponent from '../Components/HeaderComponent';\nimport Header from '../Components/Header';\nimport React from 'react';\nimport { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\n\n\nconst initialState = { isRegistration: false, errorMsg: '', successMsg: '' };\nconst authStore = createStore(authForm, initialState);\nfunction authForm(state, action) {\n    let newState = Object.assign({}, state);\n\n    switch (action.type) {\n        case 'SET_REGISTRATION':\n            newState.isRegistration = action.value;\n            newState.errorMsg = '';\n            newState.successMsg = '';\n            return newState;\n        case 'SET_ERROR':\n            newState.errorMsg = action.value;\n            newState.successMsg = '';\n            return newState;\n        case 'SET_SUCCESS':\n            newState.successMsg = action.value;\n            newState.errorMsg = '';\n            return newState;\n        default:\n            return newState;\n    }\n}\nif (window.location.pathname == \"/\" || window.location.pathname == \"/users/profile/logout\"){\ndocument.title = \"Start Page\";\n}\nclass StartPage extends Component {\n\nrender() {\n\treturn (\n\t\t\t <div id=\"main\"> \n      <div id=\"header\">\n      \t<Header/>\n      </div>\n      \n      <div id=\"all\">\n\n<Provider store={authStore}>\n        <AuthComponent />\n    </Provider>\n\n       </div>\n      <div id=\"footer\">\n        <div id=\"bot\">\n        \t<HeaderComponent author1=\"@ Хрулев Виктор\" author2=\"Возжаев Артем\" group=\"ИТМО 2018\" />\n        </div>\n      </div>\n    \t</div>\n\n\t\t);\n}\n\n}\n\nexport default StartPage;","import React from 'react';\r\nimport { Component } from 'react';\r\nimport Button from 'react-toolbox/lib/button/Button';\r\nimport AppBar from 'react-toolbox/lib/app_bar/AppBar';\r\nimport Navigation from 'react-toolbox/lib/navigation/Navigation';\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\n\r\nclass MenuComponent extends Component {\r\n  logout = () => {\r\n    document.cookie = \"\";\r\n    if (window.location == \"/users/profile/logout\") { window.location.href = \"/\"; }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"menu\">\r\n        <AppBar theme='appBar' flat>\r\n\r\n          <Navigation type='horizontal'>\r\n            <Link to=\"/webApp/\">Главная </Link>\r\n            <Link to=\"/webApp/message\"> Сообщения </Link>\r\n            <Link to=\"/webApp/sections\"> Форум </Link>\r\n            <Link to=\"/webApp/users/profile\"> Профиль </Link>\r\n            <Link to=\"/webApp/boats\"> Конструктор </Link>\r\n            <form action=\"commands/users/profile/logout\" method=\"post\">\r\n              <input type=\"submit\" value=\"Выйти\" id=\"link-lookalike\" />\r\n            </form>\r\n          </Navigation>\r\n        </AppBar>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\nconst Menu = connect((state) => state)(MenuComponent);\r\nexport default MenuComponent;","import React from 'react';\r\nimport { Component } from 'react';\r\nimport utocka from './utocka.png';\r\n\r\nfunction SomeInfoxImgComponent (props){\r\n  var some = props.info;\r\n  if (window.innerWidth<1191) {\r\n      var some = \"\";}\r\n  \treturn(\r\n\r\n  \t\t<div id=\"heads\">\r\n      <div>\r\n      <img className=\"utocka\" src={utocka} width=\"150\" height=\"150\" />\r\n      </div>\r\n       <div id=\"info\"> <b>Клуб \"Желтая уточка\"</b>\r\n      <div id=\"some\"> {some} </div>\r\n        </div>\r\n       </div>\r\n  \t\t)\r\n  \r\n}\r\n\r\nexport default SomeInfoxImgComponent;","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nclass RatingComponent extends Component {\r\n\r\n    state = {\r\n        users: []\r\n    };\r\n\r\n  \r\n      constructor(props) {\r\n        super(props);\r\n        fetch('commands/users/all', {\r\n            method: 'GET'\r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n                        this.state.users = resp;\r\n                        console.log(resp);\r\n                        this.forceUpdate();\r\n                    }).catch((err) => {\r\n                        console.log(err.message);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                alert('Не получилось отправить запрос: ' + error.statusText);\r\n            });\r\n    }\r\n\r\n    \r\n   \r\n    render() {\r\n    \r\n        let table = [];\r\n        for (let i = 0; i < this.state.users.length; i++) {                               {/* измениь число*/}         \r\n            console.log(this.state.users[i]);\r\n            let p = this.state.users[i];\r\n            table.push (<tr>\r\n                <td>{p.name}</td>                              {/* уточнить в каком формаье вернктся json*/}\r\n                <td>{p.rate}</td>\r\n                <td>{p.sportRate}</td>\r\n            </tr>);\r\n\r\n        }\r\n               \r\n\r\n        return (\r\n            <div id=\"RaitingComponent\">\r\n                <table className=\"table_blur\">\r\n                    <tr>\r\n                        <th>Пользователь</th>\r\n                        <th>Рейтинг</th>\r\n                        <th>Спортивный разряд</th>\r\n                    </tr>\r\n                    {table}\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst Rating = connect((state) => state)(RatingComponent);\r\nexport default RatingComponent;\r\n\r\n","\nimport HeaderComponent from '../Components/HeaderComponent';\nimport React from 'react';\nimport { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport utocka from './utocka.png';\nimport Menu from '../Components/MenuComponent';\nimport SomeInfoxImgComponent from '../Components/SomeInfoxImgComponent';\nimport RatingComponent from '../Components/RatingComponent';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\n\nif (window.location.pathname == \"/users/all\") {\n    document.title = \"Main Page\";\n}\n\nfunction getUsername() {\n    let value = \"; \" + document.cookie;\n    let parts = value.split(\"; \" + 'username' + \"=\");\n    if (parts.length === 2)\n        return parts.pop().split(\";\").shift();\n    return \"username not set\";\n}\n\nconst initialState = { username: getUsername() };\n\nfunction reducerFunc(state, action) {\n    let newState = Object.assign({}, state);\n    switch (action.type) {\n        case 'SET_USERNAME':\n            newState.username = action.username;\n            return newState;\n        default:\n            return newState;\n    }\n}\n\nconst dataStore = createStore(reducerFunc, initialState);\n\nclass StartPage extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { message: false, active: true, webSocket: '' }\n\n        this.state.webSocket = new WebSocket(\"ws://localhost:20067/webApp/notifications\");\n\n        this.state.webSocket.onmessage = this.onMessage;\n        this.state.webSocket.onopen = this.onOpen;\n\n\n        this.state.webSocket.onclose = () => {\n            console.log(\"connection closed\");\n        };\n\n        this.state.webSocket.onerror = (message) => {\n            console.log(\"error: \" + message);\n        }\n    }\n\n    onMessage = (message) => {\n        console.log(\"Start process on message...\");\n        if (this.state.message != true) {\n            this.state.message = true;\n            NotificationManager.info(message.data);\n            console.log(\"Message got:\", message);\n            this.forceUpdate();\n        }\n        else\n            this.state.message = false;\n    }\n\n    onOpen = () => {\n        console.log(\"connection opened\");\n    }\n\n    handleSnackbarClick = (event, instance) => {\n        console.log('handleSnackbarClick', event, instance);\n        this.state.active = false;\n        this.forceUpdate();\n    };\n\n    render() {\n\n        document.title = \"Main page\";\n\n        return (\n            <div>\n                <Provider store={dataStore}>\n                    <Menu />\n                </Provider>\n                <SomeInfoxImgComponent info=\"На данной странице вы можете ознакоомится с рейтингом пользователей)\" />\n                <NotificationContainer class='notification-info' />\n                <div id=\"main_mainp\">\n                    <RatingComponent />\n                    <div id=\"footer\">\n                        <div id=\"bot\">\n                            <HeaderComponent author1=\"@ Хрулев Виктор\" author2=\"Возжаев Артем\" group=\"ИТМО 2018\" />\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default StartPage;","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux'; \r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\n\r\n\r\nclass AllTopicsComponent extends Component {\r\n\r\n    state = {\r\n        topics: []\r\n    };\r\n\r\n  \r\n      constructor(props) {\r\n        super(props);\r\n        let path = window.location.pathname;\r\n        path = path.split('/');\r\n        \r\n        path = path[3];\r\n        path = \"/webApp/commands/forum/\" + path + \"/all\";            {/*правильно ли path */}\r\n       \r\n        \r\n        fetch( path, {          \r\n            method: 'GET'\r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n                        this.state.topics = resp;\r\n                        console.log(resp);\r\n                        this.forceUpdate();                       \r\n                    }).catch((err) => {\r\n                        alert(err.message);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                alert('Не получилось отправить запрос: ' + error.statusText);\r\n            });\r\n    }\r\n\r\n    \r\n   \r\n    render() {\r\n        let list = [];\r\n        for (let i = this.state.topics.length -1; i >= 0; i--) {\r\n            console.log(this.state.topics[i]);\r\n            let p = this.state.topics[i].id;\r\n            let sublink = window.location.pathname;\r\n            sublink = sublink.split('/');\r\n            sublink = sublink[3];\r\n            let link = \"/webApp/records/\"+ sublink + \"/\" + p.topicName + \"/all\" ;         \r\n            list.push (\r\n                <li><Link to={link}>{p.topicName}</Link></li>                         \r\n            );\r\n\r\n        }\r\n               \r\n\r\n        return (\r\n            <div id=\"SectionsComponent\">\r\n                <ol className=\"pills\">\r\n                    {list}\r\n                </ol>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst Topics = connect((state) => state)(AllTopicsComponent);\r\nexport default AllTopicsComponent;","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux'; \r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport AllTopics from '../Components/AllTopicsComponent';\r\nclass AllSectionsComponent extends Component {\r\n\r\n    state = {\r\n        sections: []\r\n    };\r\n\r\n  \r\n      constructor(props) {\r\n        super(props);\r\n        fetch('commands/forum/sections/all', {\r\n            method: 'GET'\r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n                        \r\n                           this.state.sections = resp;\r\n                           console.log(resp);\r\n                           this.forceUpdate();\r\n                        \r\n                    }).catch((err) => {\r\n                        console.log(err.message);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log('Не получилось отправить запрос: ' + error.statusText);\r\n            });\r\n    }\r\n\r\n    \r\n   \r\n    render() {\r\n        let list = [];\r\n        for (let i = this.state.sections.length -1; i >= 0; i--) {\r\n            console.log(this.state.sections[i]);\r\n            let p = this.state.sections[i];\r\n            let link = \"/webApp/topics/\"+ p.sectionName + \"/all\" ;\r\n            list.push (\r\n                <li><Link to={link}>{p.sectionName}</Link></li>                         \r\n            );\r\n\r\n        }\r\n               \r\n\r\n        return (\r\n            <div id=\"SectionsComponent\">\r\n                <ol className=\"pills\">\r\n                    {list}\r\n                </ol>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst Sections = connect((state) => state)(AllSectionsComponent);\r\nexport default AllSectionsComponent;","import HeaderComponent from '../Components/HeaderComponent';\nimport React from 'react';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport utocka from './utocka.png';\nimport Menu from '../Components/MenuComponent';\nimport SomeInfoxImgComponent from '../Components/SomeInfoxImgComponent';\nimport Link from 'react-toolbox/lib/link/Link';\nimport AllSections from '../Components/AllSectionsComponent';\nif (window.location.pathname == \"/sections\"){\ndocument.title = \"Forum Page\";\n}\n\nfunction getUsername() {\n    let value = \"; \" + document.cookie;\n    let parts = value.split(\"; \" + 'username' + \"=\");\n    if (parts.length === 2)\n        return parts.pop().split(\";\").shift();\n    return \"username not set\";\n}\n\nconst initialState = {username: getUsername() };\n\nfunction reducerFunc (state, action) {\n    let newState = Object.assign({}, state);\n    switch (action.type) {\n        case 'SET_USERNAME':\n            newState.username = action.username;\n            return newState;\n        default:\n            return newState;\n    }\n}\n\nconst dataStore = createStore(reducerFunc, initialState);\n    \nclass ForumSectionsComponent extends Component {   \n\nrender() {\n\n    document.title = \"Forum page\";\n\n\treturn (\n<div>\n<Provider store={dataStore}>\n<Menu/> \n</Provider>\n<SomeInfoxImgComponent info= \"Выберите интересующий вас раздел форума)\"/>     \n\t\t\t <div id=\"main_forum\"> \n                <AllSections/>\n\n      <div id=\"footer\">\n        <div id=\"bot\">\n        \t<HeaderComponent author1=\"@ Хрулев Виктор\" author2=\"Возжаев Артем\" group=\"ИТМО 2018\" />\n        </div>\n      </div>\n    \t</div>\n</div>\n\t\t);\n}\n\n}\n\nexport default ForumSectionsComponent;","import HeaderComponent from '../Components/HeaderComponent';\nimport React from 'react';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport utocka from './utocka.png';\nimport Menu from '../Components/MenuComponent';\nimport SomeInfoxImgComponent from '../Components/SomeInfoxImgComponent';\nimport AllTopics from '../Components/AllTopicsComponent'\nimport Link from 'react-toolbox/lib/link/Link';\n\nif (window.location.pathname.indexOf('/topics') + 1){\ndocument.title = \"Forum Page\";\n}\n\nfunction getUsername() {\n    let value = \"; \" + document.cookie;\n    let parts = value.split(\"; \" + 'username' + \"=\");\n    if (parts.length === 2)\n        return parts.pop().split(\";\").shift();\n    return \"username not set\";\n}\n\nconst initialState = {username: getUsername() };\n\nfunction reducerFunc (state, action) {\n    let newState = Object.assign({}, state);\n    switch (action.type) {\n        case 'SET_USERNAME':\n            newState.username = action.username;\n            return newState;\n        default:\n            return newState;\n    }\n}\n\nconst dataStore = createStore(reducerFunc, initialState);\n    \nclass ForumTopicsComponent extends Component {   \n\nrender() {\n\n    document.title = \"Forum page\";\n\treturn (\n<div>\n<Provider store={dataStore}>\n<Menu/> \n</Provider>\n<SomeInfoxImgComponent info= \"Выберите интересующую вас тему обсуждения)\"/>     \n\t\t\t <div id=\"main_forum\"> \n                <AllTopics/>\n      <div id=\"footer\">\n        <div id=\"bot\">\n        \t<HeaderComponent author1=\"@ Хрулев Виктор\" author2=\"Возжаев Артем\" group=\"ИТМО 2018\" />\n        </div>\n      </div>\n    \t</div>\n</div>\n\t\t);\n}\n\n}\n\nexport default ForumTopicsComponent;","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ReactImageFallback from \"react-image-fallback\";\r\n\r\n\r\nfunction AvatarComponent(props) {\r\n\r\n    return (\r\n        <div>\r\n            <ReactImageFallback\r\n                src={props.userid}\r\n                fallbackImage=\"/webApp/утка-9.jpg\"\r\n                initialImage=\"/webApp/утка-9.jpg\"\r\n                className=\"my-image\" />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AvatarComponent;","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Avatar from '../Components/AvatarComponent';\r\nimport Button from 'react-toolbox/lib/button/Button';\r\nimport update from 'immutability-helper';\r\nimport Modal from 'react-modal';\r\n\r\n\r\n\r\n\r\n\r\nconst customStyles = {\r\n    content: {\r\n        top: '50%',\r\n        left: '50%',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        marginRight: '-50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        width: '300px',\r\n        height: '200px'\r\n    }\r\n};\r\n\r\n\r\nclass ComentstoRecordComponent extends Component {\r\n\r\n    state = {\r\n        coments: [],\r\n\r\n        nowuser: [],\r\n\r\n\r\n        modalchangecomIsOpen: false,\r\n\r\n        changecom: \"\",\r\n\r\n        changecomid: \"\",\r\n\r\n        changei: \"\",\r\n\r\n        user: \"\",\r\n\r\n    };\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let path = this.props.recordid;\r\n        path = \"/webApp/commands/forum/records/\" + path + \"/all\";\r\n\r\n        fetch(path, {\r\n            method: 'GET'\r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n\r\n                        this.state.coments = resp;\r\n                        this.forceUpdate();\r\n\r\n                    }).catch((err) => {\r\n                        console.log(err.message);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log('Не получилось отправить запрос: ' + error.statusText);\r\n            });\r\n\r\n\r\n\r\n        fetch('/webApp/commands/users/profile/info', {\r\n            method: 'GET'\r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n\r\n                        this.state.nowuser = resp;\r\n                        this.forceUpdate();\r\n\r\n                    }).catch((err) => {\r\n                        console.log(err.message);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log('Не получилось отправить запрос: ' + error.statusText);\r\n            });\r\n\r\n\r\n        let newcoment = this.props.newcoment;\r\n        this.state.coments = this.state.coments.push(newcoment);\r\n    }\r\n\r\n    openModalchangecom() {\r\n        this.setState({ modalchangecomIsOpen: true });\r\n    };\r\n\r\n    closeModalchangecom() {\r\n        this.setState({ modalchangecomIsOpen: false });\r\n    };\r\n\r\n\r\n\r\n    settochangecom(comentid, i, userid) {\r\n        this.setState({ changecomid: comentid });\r\n        this.setState({ changei: i });\r\n        this.setState({ user: userid });\r\n        this.setState({ modalchangecomIsOpen: true });\r\n    }\r\n\r\n    removeItem(i) {                                                               //можетне понадобится т.к при запросе на сервер автоматически обнавится state \r\n        this.setState((prevState) => ({\r\n            records: update(prevState.records, { $splice: [[i, 1]] })\r\n        }))\r\n    };\r\n\r\n    delcoment = (comentid, i, userid) => {\r\n        let p = this.state.nowuser;\r\n        let nowuserid = p.id;\r\n        let nowgroup = p.groups[0];\r\n       \r\n\r\n            fetch('/webApp/commands/forum/records/delete/comment/' + comentid, {\r\n                method: 'POST'  //? что передать в body \r\n            })\r\n                .then((response) => {\r\n                    if (!response.ok)\r\n                        alert('Ошибка: неверный ответ от сервера.');\r\n                    else {\r\n                        response.json().then((resp) => {\r\n\r\n                            this.removeItem(i);\r\n                            this.forceUpdate();\r\n\r\n                        }).catch((err) => {\r\n                            console.log('json parse error: ' + err);\r\n                            this.removeItem(i);\r\n                            this.forceUpdate();\r\n                        });\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    console.log(\"Не удалось отправить запрос: \" + error);\r\n                });\r\n\r\n        \r\n    };\r\n\r\n\r\n\r\n    changecoment = () => {\r\n        let change = document.getElementById('changeTextArea1').value;\r\n        this.setState({ changecom: change });\r\n        let p = this.state.nowuser;\r\n        let nowuserid = p.id;\r\n        let nowgroup = p.groups[0];\r\n\r\n        let data = new FormData();\r\n\r\n        data.set(\"newCommentText\", change);\r\n\r\n        \r\n\r\n            fetch('/webApp/commands/forum/records/change/comment/' + this.state.changecomid, {\r\n                method: 'POST',\r\n                body: data     //? что передать в body \r\n            })\r\n                .then((response) => {\r\n                    if (!response.ok)\r\n                        alert('Ошибка: неверный ответ от сервера.');\r\n                    else {\r\n                        response.json().then((resp) => {\r\n\r\n                            let i = this.state.changei;\r\n                            let g = this.state.coments[i];\r\n                            g.coment = this.state.changecom;\r\n                            this.closeModalchangecom();\r\n                            this.forceUpdate();\r\n                        }).catch((err) => {\r\n                            console.log('json parse error: ' + err);\r\n                            this.closeModalchangecom();\r\n                            this.forceUpdate();\r\n                        });\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    alert(\"Не удалось отправить запрос: \" + error);\r\n                });\r\n        \r\n    };\r\n\r\n\r\n    render() {\r\n\r\n        let table = [];\r\n        let headline = [];\r\n        let headlineuser = [];\r\n        let open = this.props.open;\r\n        for (let i = this.state.coments.length - 1; i >= 0; i--) {\r\n            console.log(\"comment\",this.state.coments[i]);\r\n            let p = this.state.coments[i];\r\n            let user = \"/imgUpload/avatar_\" + p.author.id + \".png\";\r\n            let coment = p.id;\r\n            let userid = p.author.id;\r\n            if (w >= 1192) {\r\n                table.push(<tr>\r\n                    <td>\r\n                        <tr><Avatar userid={user} /></tr>\r\n                        <tr>{p.author.name} </tr>\r\n                    </td>\r\n                    <td>\r\n                        <div class=\"white_space1\">\r\n                            <tr class=\"white_space\">{p.message}</tr>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <tr> <Button class=\"sbut\" onClick={() => this.delcoment(coment, i, userid)}>Удалить коментарий</Button></tr>\r\n                        <tr> <Button class=\"sbut\" onClick={() => this.settochangecom(coment, i, userid)}>Изменить коментарий</Button></tr>\r\n                    </td>\r\n                </tr>);\r\n            }\r\n            else {\r\n                if ((w >= 750) && (w <= 1191)) {\r\n                    table.push(<tr>\r\n                        <td>\r\n\r\n                            <tr>{p.author.name} </tr>\r\n                        </td>\r\n                        <td>\r\n                            <tr>\r\n                                <Button class=\"sbut\" onClick={() => this.delcoment(coment, i, userid)}>Удалить коментарий</Button> <br />\r\n                                <Button class=\"sbut\" onClick={() => this.settochangecom(coment, i, userid)}>Изменить коментарий</Button>\r\n                            </tr>\r\n                            <div class=\"white_space1\">\r\n                                <tr class=\"white_space\">{p.message}</tr></div>\r\n                        </td>\r\n                    </tr>);\r\n                }\r\n                else {\r\n                    if (w < 750) {\r\n                        table.push(<tr>\r\n                            <td>\r\n                                <tr>\r\n                                    <Button class=\"sbut\" onClick={() => this.delcoment(coment, i, userid)}>Удалить коментарий</Button> <br />\r\n                                    <Button class=\"sbut\" onClick={() => this.settochangecom(coment, i, userid)}>Изменить коментарий</Button>\r\n                                </tr>\r\n                                <div class=\"white_space1\">\r\n                                    <tr class=\"white_space\">{p.message}</tr></div>\r\n                            </td>\r\n                        </tr>);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (w >= 1192) {\r\n            headline.push(<th>Действие</th>);\r\n            headlineuser.push(<th>Пользователь</th>)\r\n        }\r\n\r\n\r\n        if ((w >= 750) && (w <= 1191)) {\r\n            headlineuser.push(<th>Пользователь</th>);\r\n        }\r\n\r\n\r\n        console.log(table);\r\n        if (open == true) {\r\n\r\n            return ([\r\n                <div id=\"commentsinrecord\">\r\n                    <table className=\"table_blur\">\r\n                        <caption>Коментарии </caption>\r\n                        <tr>\r\n                            {headlineuser}\r\n                            <th>Коментарий</th>\r\n                            {headline}\r\n                        </tr>\r\n                        {table}\r\n                    </table>\r\n                </div>,\r\n\r\n                <div id=\"Model3\">\r\n                    <Modal\r\n                        isOpen={this.state.modalchangecomIsOpen}\r\n                        onRequestClose={this.closeModalchangecom.bind(this)}\r\n                        style={customStyles}\r\n                        contentLabel=\"ChangeCom Modal\">\r\n\r\n                        <div>Изменить коментарий</div>\r\n                        <form>\r\n                            <textarea id=\"changeTextArea1\" name=\"changerec\"></textarea>                              {/*neme для идентефикации поля*/}\r\n                            <Button onClick={this.changecoment}>Изменить коментарий</Button>\r\n                        </form>\r\n                    </Modal>\r\n                </div>\r\n\r\n            ]\r\n            );\r\n\r\n        }\r\n\r\n        else {\r\n            return (\r\n\r\n                <div> </div>\r\n\r\n            );\r\n        }\r\n    }\r\n}\r\nconst w = window.screen.width;\r\nconst ComentstoRecord = connect((state) => state)(ComentstoRecordComponent);\r\nexport default ComentstoRecordComponent;","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux'; \r\nimport Avatar from '../Components/AvatarComponent'; \r\nimport ComentstoRecord from '../Components/ComentstoRecord'; \r\nimport Button from 'react-toolbox/lib/button/Button';\r\nimport update from 'immutability-helper'\r\nimport Modal from 'react-modal';\r\n\r\n\r\nconst customStyles = {\r\n  content : {\r\n    top                   : '50%',\r\n    left                  : '50%',\r\n    right                 : 'auto',\r\n    bottom                : 'auto',\r\n    marginRight           : '-50%',\r\n    transform             : 'translate(-50%, -50%)',\r\n    width                 : '300px',\r\n    height                : '200px'\r\n  }\r\n};\r\n\r\nclass RecordsComponent extends Component {\r\n\r\n    state = {\r\n        records: [],\r\n\r\n\r\n        open: false,\r\n    \r\n        nowuser: '',\r\n\r\n        modalrecordIsOpen: false,\r\n\r\n        modalcomentIsOpen: false,\r\n\r\n        modalchangerecIsOpen: false,\r\n\r\n        changerecord: \"\",\r\n\r\n        changerecordid: \"\", \r\n\r\n        changei: \"\",\r\n\r\n        user: \"\",\r\n        \r\n        recordid: \"\",\r\n\r\n        newcoment: \"\",\r\n        \r\n    };\r\n\r\n  \r\n      constructor(props) {\r\n        super(props);\r\n\r\n        let path = window.location.pathname;\r\n        path = path.split('/');\r\n        let path0 = path[3];\r\n        let path1 = path[4];\r\n        console.log(\"path from 62 line in Records comp\", path);\r\n        path = \"/webApp/commands/forum/\" + path0 + \"/\" + path1 + \"/all\";    {/*правильно ли path */}\r\n    \r\n        fetch( path, {          \r\n            method: 'GET'\r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n                        \r\n                          this.state.records = resp;\r\n                          this.forceUpdate();\r\n                    }).catch((err) => {\r\n                        console.log(err.message);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log('Не получилось отправить запрос: ' + error.statusText);\r\n            });\r\n\r\n            fetch( '/webApp/commands/users/profile/info', {          \r\n            method: 'GET'\r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n                        \r\n                        this.state.nowuser = resp;\r\n                        this.forceUpdate();\r\n                    }).catch((err) => {\r\n                        console.log(err.message);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log('Не получилось отправить запрос: ' + error.statusText);\r\n            });\r\n\r\n            \r\n    }\r\n\r\n\r\n    openModalrecord() {\r\n    this.setState({modalrecordIsOpen: true});\r\n    };\r\n\r\n    closeModalrecord() {\r\n    this.setState({modalrecordIsOpen: false});\r\n    };\r\n\r\n     openModalcoment() {\r\n    this.setState({modalcomentIsOpen: true});\r\n    };\r\n\r\n    closeModalcoment() {\r\n    this.setState({modalcomentIsOpen: false});\r\n    };\r\n\r\n     openModalchangerec() {\r\n    this.setState({modalchangerecIsOpen: true});\r\n    };\r\n\r\n    closeModalchangerec() {\r\n    this.setState({modalchangerecIsOpen: false});\r\n    };\r\n\r\n    setrecordid(record) {\r\n         this.setState({recordid: record});\r\n         this.setState({modalcomentIsOpen: true});\r\n\r\n    }\r\n\r\n    settochangerec(recordid, i, userid) {\r\n        this.setState({changerecordid: recordid});\r\n        this.setState({changei: i});\r\n        this.setState({user: userid});\r\n        this.setState({modalchangerecIsOpen: true});\r\n    }\r\n\r\n    removeItem(i) {\r\n             this.setState((prevState) => ({                                                  //можетне понадобится т.к при запросе на сервер автоматически обнавится state \r\n             records: update(prevState.records, {$splice: [[i, 1]]})\r\n             }))\r\n            };\r\n\r\n    delrecord = (recordid, i, userid) => {\r\n        let p = this.state.nowuser;\r\n        let nowuserid = p.id;\r\n        let nowgroup = p.groups[0];\r\n        \r\n        fetch('/webApp/commands/forum/records/delete/' + recordid, {\r\n            method: 'POST',\r\n            body: JSON.stringify(recordid)      //? что передать в body \r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    alert('Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n                        \r\n                            this.removeItem(i);\r\n                            this.forceUpdate();\r\n                    }).catch((err) => {\r\n                        console.log('json parse error: ' + err);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                alert(\"Не удалось отправить запрос: \" + error);\r\n            });\r\n        \r\n    };\r\n\r\n\r\n    addrecord = () => {        \r\n\r\n        let newRecord = document.getElementById(\"newRecord\").value;\r\n        console.log(\"new record:\", newRecord, document.getElementById(\"newRecord\"));\r\n\r\n        let path = window.location.pathname;\r\n        path = path.split('/');\r\n        let path0 = path[3];\r\n        let path1 = path[4];\r\n        path = \"/webApp/commands/forum/\" + path0 + \"/\" + path1 + \"/new\";    {/*правильно ли path */}\r\n\r\n        let data = new FormData();\r\n\r\n        data.set(\"message\", newRecord);\r\n        fetch(path, {\r\n            method: 'POST',\r\n            body: data     //? что передать в body \r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    alert('Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n                        \r\n                            this.state.records = resp;\r\n                            this.closeModalrecord();\r\n                            this.forceUpdate();\r\n                       \r\n                    }).catch((err) => {\r\n                        alert('json parse error: ' + err);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                alert(\"Не удалось отправить запрос: \" + error);\r\n            });\r\n        \r\n\r\n   \r\n    };\r\n\r\n\r\n    changerecord = () => {\r\n        let change = document.getElementById('changeTextArea').value;\r\n        this.setState({changerecord: change});\r\n        let p = this.state.nowuser;\r\n        let nowuserid = p.id;\r\n        let nowgroup = p.groups[0];\r\n\r\n        let data = new FormData();\r\n\r\n        data.set(\"newMessage\", change);\r\n        \r\n        fetch('/webApp/commands/forum/records/change/' + this.state.changerecordid, {\r\n            method: 'POST',\r\n            body: data      //? что передать в body \r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    alert('Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n                        \r\n                            let i = this.state.changei;\r\n                            let g = this.state.records[i];\r\n                            g.record = this.state.changerecord;\r\n                            this.closeModalchangerec();\r\n                            this.forceUpdate();\r\n                            \r\n                    }).catch((err) => {\r\n                        console.log('json parse error: ' + err);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                alert(\"Не удалось отправить запрос: \" + error);\r\n            });\r\n        \r\n    };\r\n\r\n\r\n    addcoment = () => { \r\n        let recordid = this.state.recordid;\r\n\r\n        let text = document.getElementById(\"newComment\").value;\r\n        \r\n        let path = \"/webApp/commands/forum/records/\" + recordid + \"/new\";    {/*правильно ли path */}\r\n       \r\n        let data = new FormData();\r\n\r\n        data.set(\"commentText\", text);\r\n\r\n        fetch(path, {\r\n            method: 'POST',\r\n            body: data      //? что передать в body \r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    alert('Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n                        \r\n                        this.setState({newcoment: resp});\r\n                        this.closeModalcoment();\r\n                        this.forceUpdate();\r\n                        \r\n                    }).catch((err) => {\r\n                        alert('json parse error: ' + err);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                alert(\"Не удалось отправить запрос: \" + error);\r\n            });\r\n        \r\n\r\n   \r\n    };\r\n\r\n\r\n\r\n   toggleChildMenu() {\r\n      this.setState({\r\n        open: !this.state.open\r\n      });\r\n   }\r\n\r\n    render() {\r\n        \r\n        let table = [];\r\n        let headline = [];\r\n        let headlineuser = [];\r\n        let nametheme = [];\r\n        \r\n        for (let i = this.state.records.length -1; i >= 0; i--) {\r\n            console.log(this.state.records[i]);\r\n            let p = this.state.records[i];\r\n            let user = \"/imgUpload/avatar_\" + p.userid + \".png\";\r\n            let record = p.id;\r\n            let userid = p.author.id;\r\n        if (w>=1192) {\r\n            table.push (<tr>\r\n                <td>\r\n                <tr><Avatar userid = {user}/></tr> \r\n                <tr>{p.author.name} </tr>\r\n                </td>\r\n                <td >\r\n                <div class=\"white_space1\">\r\n                <tr >{p.message}</tr></div>\r\n                <tr><ComentstoRecord recordid ={record} open={this.state.open} newcoment ={this.state.newcoment}/></tr>\r\n                </td>\r\n                <td> \r\n                <tr><Button className=\"sbut\" onClick={() => this.delrecord(record, i, userid)}>Удалить запись</Button> </tr>\r\n                <tr> <Button  className=\"sbut\" onClick={() => this.settochangerec(record, i, userid)}>Изменить запись</Button></tr>\r\n                <tr> <Button className=\"sbut\" onClick={() => this.setrecordid(record)}>Добавить коментарий</Button> </tr>\r\n                </td>\r\n            </tr>);\r\n        }\r\n\r\n        else \r\n        {\r\n        if ((w>= 750) && (w <= 1191)) \r\n        {\r\n             table.push (<tr>\r\n                <td>\r\n                <tr><Avatar userid = {user}/></tr> \r\n                <tr>{p.author.name} </tr>\r\n                </td>\r\n                <td>\r\n                <tr> \r\n                <Button  class=\"sbut\" onClick={() => this.delrecord(record, i, userid)}>Удалить запись</Button> \r\n                 <Button class=\"sbut\" onClick={() => this.settochangerec(record, i, userid)}>Изменить запись</Button>\r\n                 <Button class=\"sbut\" onClick={() => this.setrecordid(record)}>Добавить коментарий</Button> \r\n                </tr>\r\n                <div class=\"white_space1\">\r\n                <tr>{p.message}</tr></div>\r\n                <tr><ComentstoRecord recordid ={record} open={this.state.open} newcoment ={this.state.newcoment}/></tr>\r\n                </td>\r\n            </tr>);\r\n        }\r\n        else    {\r\n            if (w<750) \r\n                {table.push (<tr>\r\n                <td>\r\n                <tr> \r\n                <Button class=\"sbut\" onClick={() => this.delrecord(record, i, userid)}>Удалить запись</Button> <br/>\r\n                 <Button class=\"sbut\" onClick={() => this.settochangerec(record, i, userid)}>Изменить запись</Button><br/>\r\n                 <Button  class=\"sbut\" onClick={() => this.setrecordid(record)}>Добавить коментарий</Button> \r\n                </tr>\r\n                 <div class=\"white_space1\">\r\n                <tr >{p.message}</tr></div>\r\n                <tr><ComentstoRecord recordid ={record} open={this.state.open} newcoment ={this.state.newcoment}/></tr>\r\n                </td>\r\n            </tr>);}}\r\n        }\r\n        }\r\n\r\n\r\n\r\n        console.log(table);\r\n        let path = window.location.pathname;\r\n        let path1 = decodeURI(path);\r\n        path = path1.split('/');\r\n        path1 = path[4];\r\n        \r\n     if (w >= 1192) {\r\n        headline.push(<th>Действие</th>\r\n            );\r\n\r\n        headlineuser.push(<th>Пользователь</th>);\r\n\r\n         }\r\n\r\n        if(w< 750){\r\n         nametheme.push(<br/>);\r\n        \r\n        }\r\n\r\n        if ((w>= 750) && (w <= 1191))  {\r\n            headlineuser.push(<th>Пользователь</th>);\r\n            \r\n        }\r\n\r\n        return ([\r\n            <div id =\"Records\">\r\n                <table className=\"table_blur\">\r\n                <caption><Button className=\"sbut\" onClick={this.openModalrecord.bind(this)}>Добавить запись</Button> {nametheme}  {path1}  {nametheme} <Button className=\"sbut\" onClick={this.toggleChildMenu.bind(this)}>Коментарии</Button> </caption>\r\n                    <tr>\r\n                        {headlineuser}\r\n                        <th>Сообщение</th>\r\n                        {headline}\r\n                    </tr>\r\n                    {table}\r\n                </table>\r\n            </div>,\r\n        <div id =\"Model\">\r\n        <Modal\r\n          isOpen={this.state.modalrecordIsOpen}\r\n          onRequestClose={this.closeModalrecord.bind(this)}\r\n          style={customStyles}\r\n          contentLabel=\"AddRecord Modal\">\r\n\r\n        <div>Добавьте запись</div>\r\n          <form>\r\n           <textarea name=\"record\" id=\"newRecord\"></textarea>                              {/*neme для идентефикации поля*/}\r\n            <Button onClick={this.addrecord}>Сохранить запись</Button>\r\n          </form> \r\n          </Modal>\r\n        </div>,\r\n\r\n        <div id =\"Model1\">\r\n        <Modal\r\n          isOpen={this.state.modalcomentIsOpen}\r\n          onRequestClose={this.closeModalcoment.bind(this)}\r\n          style={customStyles}\r\n          contentLabel=\"AddComent Modal\">\r\n\r\n        <div>Добавьте коментарий</div>\r\n          <form>\r\n           <textarea name=\"coment\" id=\"newComment\"></textarea>                              {/*neme для идентефикации поля*/}\r\n            <Button onClick={this.addcoment}>Сохранить коментарий</Button>\r\n          </form> \r\n          </Modal>\r\n        </div>,\r\n\r\n        <div id =\"Model2\">\r\n        <Modal\r\n          isOpen={this.state.modalchangerecIsOpen}\r\n          onRequestClose={this.closeModalchangerec.bind(this)}\r\n          style={customStyles}\r\n          contentLabel=\"ChangeRec Modal\">\r\n\r\n        <div>Изменить запись</div>\r\n          <form>\r\n           <textarea id = \"changeTextArea\" name=\"changerec\"></textarea>                              {/*neme для идентефикации поля*/}\r\n            <Button onClick={this.changerecord}>Изменить запись</Button>\r\n          </form> \r\n          </Modal>\r\n        </div>,\r\n        \r\n]\r\n        );\r\n        \r\n        \r\n\r\n    \r\n    }\r\n}\r\nconst w = window.screen.width;\r\nconst Records = connect((state) => state)(RecordsComponent);\r\nexport default RecordsComponent;","import HeaderComponent from '../Components/HeaderComponent';\nimport React from 'react';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport utocka from './utocka.png';\nimport Menu from '../Components/MenuComponent';\nimport SomeInfoxImgComponent from '../Components/SomeInfoxImgComponent';\nimport Records from '../Components/RecordsComponent'; \n\nif (window.location.pathname.indexOf('/records') + 1){\ndocument.title = \"Forum Page\";\n}\n\nfunction getUsername() {\n    let value = \"; \" + document.cookie;\n    let parts = value.split(\"; \" + 'username' + \"=\");\n    if (parts.length === 2)\n        return parts.pop().split(\";\").shift();\n    return \"username not set\";\n}\n\nconst initialState = {username: getUsername() };\n\nfunction reducerFunc (state, action) {\n    let newState = Object.assign({}, state);\n    switch (action.type) {\n        case 'SET_USERNAME':\n            newState.username = action.username;\n            return newState;\n        default:\n            return newState;\n    }\n}\n\nconst dataStore = createStore(reducerFunc, initialState);\n    \nclass ForumRecordsComponent extends Component {   \n\nrender() {\n    document.title = \"Forum page\";\n\treturn (\n<div>\n<Provider store={dataStore}>\n<Menu/> \n</Provider>\n<SomeInfoxImgComponent info= \"Наслаждайтесь процессом, оставляйте коментарии)\"/>     \n\t\t\t <div id=\"main_records\">\n             <Records/> \n      <div id=\"footer\">\n        <div id=\"bot\">\n        \t<HeaderComponent author1=\"@ Хрулев Виктор\" author2=\"Возжаев Артем\" group=\"ИТМО 2018\" />\n        </div>\n      </div>\n    \t</div>\n</div>\n\t\t);\n}\n\n}\n\nexport default ForumRecordsComponent;","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux'; \r\nimport Button from 'react-toolbox/lib/button/Button';\r\nimport update from 'immutability-helper'\r\nimport Modal from 'react-modal';\r\nimport Avatar from '../Components/AvatarComponent'; \r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport utocka from './utocka.png';\r\n\r\nconst customStyles = {\r\n  content : {\r\n    top                   : '50%',\r\n    left                  : '50%',\r\n    right                 : 'auto',\r\n    bottom                : 'auto',\r\n    marginRight           : '-50%',\r\n    transform             : 'translate(-50%, -50%)',\r\n    width                 : '300px',\r\n    height                : '200px'\r\n  }\r\n};\r\n\r\nclass UsertoMassageComponent extends Component {\r\n\r\n    state = {\r\n\r\n        users: [],\r\n\r\n        modalrecordIsOpen: false,\r\n\r\n        tomail: \"\",\r\n       \r\n    };\r\n\r\n  \r\n      constructor(props) {\r\n        super(props);\r\n       \r\n       \r\n        \r\n        fetch('commands/users/all', {\r\n            method: 'GET'\r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n                        this.state.users = resp;\r\n                        console.log(resp);\r\n                        this.forceUpdate();\r\n                    }).catch((err) => {\r\n                        console.log(err.message);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                alert('Не получилось отправить запрос: ' + error.statusText);\r\n            });\r\n    }\r\n\r\n    openModalmessage() {\r\n    this.setState({modalrecordIsOpen: true});\r\n    };\r\n\r\n    closeModalmessage() {\r\n    this.setState({modalrecordIsOpen: false});\r\n    };\r\n\r\n    settomaild(mail) {\r\n         \r\n         this.setState({modalrecordIsOpen: true});\r\n         this.setState({tomail: mail});\r\n    }\r\n\r\n    sendmessage = () => { \r\n        let mail = this.state.tomail;\r\n        let text = document.getElementById(\"newRecord\").value;\r\n        let path = \"commands/messages/send/\" + mail;    {/*правильно ли path */}\r\n\r\n        let data = new FormData();\r\n\r\n        data.set(\"message\", text);\r\n\r\n       this.closeModalmessage();\r\n        fetch(path, {\r\n            method: 'POST',\r\n            body: data   //? что передать в body \r\n        })\r\n            .then((response) => {\r\n                if (!response.ok)\r\n                    console.log('Ошибка: неверный ответ от сервера.');\r\n                else {\r\n                    response.json().then((resp) => {\r\n                        this.closeModalmessage();\r\n                        this.forceUpdate();\r\n                        \r\n                    }).catch((err) => {\r\n                        console.log('json parse error: ' + err);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(\"Не удалось отправить запрос: \" + error);\r\n            });\r\n        \r\n\r\n   \r\n    };\r\n\r\n   \r\n    render() {\r\n        let table = [];\r\n        let list = [];\r\n        for (let i = this.state.users.length -1; i >= 0; i--) {\r\n            console.log(this.state.users[i]);\r\n            let p = this.state.users[i];\r\n            let user = \"/webApp/avatar_\" + p.id + \".png\";\r\n            let link = \"/webApp/dialog/\"+ p.email; \r\n            let mail = p.email;\r\n             if ((w>=1192)|| ((w>= 750) && (w <= 1191))) {\r\n            table.push(<tr>\r\n             \r\n                <td class=\"white_space\"> \r\n                    <div id = \"messageuser\">\r\n                    <div class = \"mesimg\">\r\n                    <Avatar userid = {user}/>\r\n                    </div>\r\n                    <div class = \"mesuser\">\r\n                    <ul class = \"beads white_space\">                     \r\n                     <li class=\"white_space\">  \r\n                         <Link to={link}>{p.name}</Link>\r\n                         </li>\r\n                     </ul>\r\n                     </div>\r\n                </div>\r\n               </td>\r\n                <td class=\"white_space\"> <Button onClick={(mail) => this.settomaild(p.id)}>Написать сообщение</Button> </td>\r\n\r\n                </tr>);\r\n        }\r\n\r\n        else \r\n        {\r\n            if (w<750) {\r\n                table.push(<tr>\r\n             \r\n                <td class=\"white_space\"> \r\n                    <div id = \"messageuser\">\r\n                    <div class = \"mesimg\">\r\n                    <Avatar userid = {user}/>\r\n                    </div>\r\n                    <div class = \"mesuser\">\r\n                    <ul class = \"beads\">                     \r\n                     <li>  <Link to={link}>{p.name}</Link></li>\r\n                     </ul>\r\n                     </div>\r\n                </div>\r\n               </td>\r\n                <td class=\"white_space\"> <Button onClick={(mail) => this.settomaild(p.id)}>Написать</Button> </td>\r\n\r\n                </tr>);\r\n            }\r\n        }\r\n        }\r\n               \r\n\r\n        return ([\r\n            <div id=\"MessageComponent\">\r\n                 <table className=\"table_blur\">\r\n                     <tr>\r\n                        <th>Пользователь</th>\r\n                        <th>Отправить</th>\r\n                    </tr>\r\n                    {table}\r\n                </table>\r\n            </div>,\r\n\r\n            <div id =\"Model\">\r\n        <Modal\r\n          isOpen={this.state.modalrecordIsOpen}\r\n          onRequestClose={this.closeModalmessage.bind(this)}\r\n          style={customStyles}\r\n          contentLabel=\"SendMessage Modal\">\r\n\r\n        <div>Отправьте свое сообщение</div>\r\n          <form>\r\n           <textarea name=\"record\" id=\"newRecord\"></textarea>                              {/*neme для идентефикации поля*/}\r\n            <Button onClick={this.sendmessage}>Отправить</Button>\r\n          </form> \r\n          </Modal>\r\n        </div>,\r\n       ] );\r\n    }\r\n}\r\nconst w = window.screen.width;\r\nconst UsertoMassage = connect((state) => state)(UsertoMassageComponent);\r\nexport default UsertoMassageComponent;","import HeaderComponent from '../Components/HeaderComponent';\nimport React from 'react';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport utocka from './utocka.png';\nimport Menu from '../Components/MenuComponent';\nimport SomeInfoxImgComponent from '../Components/SomeInfoxImgComponent';\nimport UserMessage from '../Components/UsertoMessageComponent';\n\nif (window.location.pathname.indexOf('/message') + 1) {\n    document.title = \"Message Page\";\n}\n\nfunction getUsername() {\n    let value = \"; \" + document.cookie;\n    let parts = value.split(\"; \" + 'username' + \"=\");\n    if (parts.length === 2)\n        return parts.pop().split(\";\").shift();\n    return \"username not set\";\n}\n\nconst initialState = { username: getUsername() };\n\nfunction reducerFunc(state, action) {\n    let newState = Object.assign({}, state);\n    switch (action.type) {\n        case 'SET_USERNAME':\n            newState.username = action.username;\n            return newState;\n        default:\n            return newState;\n    }\n}\n\nconst dataStore = createStore(reducerFunc, initialState);\n\nclass MessageComponent extends Component {\n\n    render() {\n        document.title = \"Dialog page\";\n        return (\n            <div>\n                <Provider store={dataStore}>\n                    <Menu />\n                </Provider>\n                <SomeInfoxImgComponent info=\"Обменивайтесь сообщениями, с пользователями)\" />\n                <div id=\"main_message\">\n                    <UserMessage />\n                    <div id=\"footer\">\n                        <div id=\"bot\">\n                            <HeaderComponent author1=\"@ Хрулев Виктор\" author2=\"Возжаев Артем\" group=\"ИТМО 2018\" />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default MessageComponent;","import HeaderComponent from '../Components/HeaderComponent';\nimport React from 'react';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport utocka from './utocka.png';\nimport Menu from '../Components/MenuComponent';\nimport SomeInfoxImgComponent from '../Components/SomeInfoxImgComponent';\n\n\nif (window.location.pathname.indexOf('/dialog') + 1) {\n    document.title = \"Dialog Page\";\n}\n\nfunction getUsername() {\n    let value = \"; \" + document.cookie;\n    let parts = value.split(\"; \" + 'username' + \"=\");\n    if (parts.length === 2)\n        return parts.pop().split(\";\").shift();\n    return \"username not set\";\n}\n\nconst initialState = { username: getUsername() };\n\nfunction reducerFunc(state, action) {\n    let newState = Object.assign({}, state);\n    switch (action.type) {\n        case 'SET_USERNAME':\n            newState.username = action.username;\n            return newState;\n        default:\n            return newState;\n    }\n}\n\nconst dataStore = createStore(reducerFunc, initialState);\n\nclass DialogWithUsersComponent extends Component {\n    state = {\n\n        message: [],\n\n\n    };\n\n    constructor(props) {\n        super(props);\n        let path = window.location.pathname;\n        path = path.split('/');\n        console.log(path);\n        let path0 = path[3];\n\n        console.log(path0);\n        fetch('/webApp/commands/messages/' + path0, {\n            method: 'GET'\n        })\n            .then((response) => {\n                if (!response.ok)\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\n                else {\n                    response.json().then((resp) => {\n\n                        this.state.message = resp;\n                        this.forceUpdate();\n                        console.log(resp);\n                    }).catch((err) => {\n                        alert(err.message);\n                    });\n                }\n            })\n            .catch((error) => {\n                alert('Не получилось отправить запрос: ' + error.statusText);\n            });\n    }\n\n\n    render() {\n\n        let headtab = [];\n        let table = [];\n\n        let mes = this.state.message.slice();\n\n        mes = mes.sort(function (a, b) {\n            if (a.date > b.date) {\n                return 1;\n            }\n            if (a.date < b.date) {\n                return -1;\n            }\n\n            return 0;\n        });\n\n\n\n\n        for (let i = mes.length - 1; i >= 0; i--) {\n            console.log(mes[i]);\n            let p = mes[i];\n\n\n            table.push(<tr>\n\n                <td class=\"white_space\">{p.messageText}</td>\n                <td>{p.date} </td>\n            </tr>);\n\n\n        }\n\n\n\n        return (\n            <div>\n                <Provider store={dataStore}>\n                    <Menu />\n                </Provider>\n                <SomeInfoxImgComponent info=\"Здесь, вы можете просмотреть свой диалог)\" />\n                <div id=\"main_message\">\n                    <div id=\"MessageComponent\">\n                        <table className=\"table_blur\">\n                            <tr>\n                                <th>Сообщения</th>\n                                <th>Дата</th>\n                            </tr>\n                            {table}\n                        </table>\n                    </div>\n                    <div id=\"footer\">\n                        <div id=\"bot\">\n                            <HeaderComponent author1=\"@ Хрулев Виктор\" author2=\"Возжаев Артем\" group=\"ИТМО 2018\" />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\nconst w = window.screen.width;\nexport default DialogWithUsersComponent;","import React from 'react';\nimport { Component } from 'react';\n\nclass Line extends Component\n{\n    constructor(props) \n    {\n\t\tsuper(props);\n        this.label = props.label;\n        this.text = props.text;\n    }\n\n    render()\n    {\n        return(\n            <div className=\"profileUserInfoLine\">\n                <div className=\"heading is-color3-light\">\n                    {this.label}\n                </div>\n\n                <div className=\"title is-color3-light\">\n                    {this.text}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Line;","import React from 'react';\nimport { Component } from 'react';\nimport AvatarComponent from \"../AvatarComponent\";\nimport Line from \"./Line\";\n\nclass ProfileInfo extends Component {\n    constructor(props) {\n        super(props);\n        this.user = props['user'];\n        this.userAvatar = props['userAvatar'];\n    }\n\n    render() {\n        return (\n            <div class=\"tile is-ancestor is-color1\">\n                <div class=\"tile is-color3-light profile-avatar is-vertical\">\n                    <AvatarComponent userid={this.userAvatar} />\n                    <div class=\"file\">\n                        <label class=\"file-label\">\n                            <form enctype=\"multipart/form-data\" method=\"post\" action={\"/webApp/commands/utils/imgUpload/avatar_\"+this.user.id+\".png\"}>\n                                <input type=\"file\" name=\"file\" accept=\"image/png\" />\n                                <input type=\"submit\" value=\"Отправить\"/>\n                            </form>\n                        </label>\n                    </div>\n                </div>\n\n                <div class=\"tile is-vertical is-7\">\n                    <Line label=\"Имя\" text={this.user.name} />\n\n                    <Line label=\"Дата рождения\" text={this.user.birthday} />\n\n                    <Line label=\"Пол\" text={this.user.gender} />\n\n                    <Line label=\"Спортивный разряд\" text={this.user.sportRate} />\n\n                    <Line label=\"Рейтинг\" text={this.user.rate} />\n\n                    <Line label=\"Email\" text={this.user.email} />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ProfileInfo;","import React from 'react';\nimport { Component } from 'react';\nimport Input from 'react-toolbox/lib/input';\nimport Button from 'react-toolbox/lib/button/Button';\nimport { Redirect } from \"react-router-dom\";\n\nclass ProfileEdit extends Component {\n    constructor(props) {\n        super(props);\n        this.user = props.user;\n        this.state = { name: this.user.name, gender: this.user.gender, email: this.user.email, password: '', sportRate: this.user.sportRate, toProfileInfo: false, birthday: this.user.birthday };\n    }\n\n    handleChange = (name, value) => {\n        this.setState({ ...this.state, [name]: value });\n    };\n\n    cancelEditing = () => {\n        this.state.toProfileInfo = true;\n        this.forceUpdate();\n    }\n\n    saveChanges = () => {\n\n        let data = new FormData();\n\n        data.set(\"name\", this.state.name);\n        data.set(\"gender\", this.state.gender);\n        data.set(\"password\", this.state.password);\n\n        fetch(\"/webApp/commands/users/profile/change\",\n            {\n                method: 'post',\n                body: data\n            }\n        )\n            .then((response) => {\n                if (!response.ok)\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\n                else {\n                    \n                        this.state.toProfileInfo = true;\n                        this.forceUpdate();\n                    \n                    };\n                })\n            .catch((error) => {\n                console.log('Не получилось отправить запрос: ' + error.statusText);\n            });\n    }\n\n    render() {\n\n        if (this.state.toProfileInfo === true)\n            return (<Redirect to='/webApp/' />);\n\n        return (\n            <div id=\"profileEdit\" className=\"is-color3\">\n                <section>\n                    <Input type='text' label='Имя' name='name' value={this.state.name} required onChange={this.handleChange.bind(this, 'name')} maxLength={16} />\n                    <Input type='text' label='Пол' name='gender' value={this.state.gender} required onChange={this.handleChange.bind(this, 'gender')} maxLength={1} />\n                    <Input type='password' label='Пароль' name='password' value={this.state.password} required onChange={this.handleChange.bind(this, 'password')} />\n                </section>\n\n                <Button label='Сохранить' raised primary onClick={this.saveChanges} />\n                <Button label='Отменить' onClick={this.cancelEditing} raised />\n            </div>\n        );\n    }\n\n}\n\nexport default ProfileEdit;","import React from 'react';\nimport { Component } from 'react';\nimport { List, ListItem, ListSubHeader, ListDivider, ListCheckbox } from 'react-toolbox/lib/list';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Header from \"../Header\";\nimport ProfileInfo from \"./ProfileInfo\";\nimport ProfileEdit from \"./ProfileEdit\";\nimport Menu from '../MenuComponent';\nimport \"../../Profile.scss\";\n\nclass Profile extends Component {\n    constructor(props) {\n        super(props);\n        //this.users = props.users;\n\n        //this.currentUser = props.currentUser;\n        this.currentUser = \"\";\n\n        this.selectedUser = false;\n        this.match = props.match;\n\n        fetch('/webApp/commands/users/profile/info', {\n            method: 'GET'\n        })\n            .then((response) => {\n                if (!response.ok)\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\n                else {\n                    response.json().then((resp) => {\n                        this.currentUser = resp;\n                        this.selectedUser = true;\n                        console.log(resp);\n                        this.forceUpdate();\n                    }).catch((err) => {\n                        console.log(err.message);\n                    });\n                }\n            })\n            .catch((error) => {\n                console.log('Не получилось отправить запрос: ' + error.statusText);\n            });\n    }\n\n\n    render() {\n\n        document.title = \"Profile page\";\n\n        if (!this.selectedUser) {\n            return (\n\n                <div>\n                    <Menu />\n                    <div class=\"is-color2\" id=\"profileMain\">\n    \n                        <div class=\"tile is-ancestor\">\n                            <div class=\"tile is-vertical\">\n                                <div id=\"profileTitle\">\n                                    <div>\n                                        <h1 class=\"title\">Профиль</h1>\n                                    </div>\n                                    <div class=\"tile is-1\">\n                                        <h2 class=\"header\"> <Link to={this.match.path + \"/edit\"}>Редактировать </Link> </h2>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n        else\n            return (\n\n                <div>\n                    <Menu />\n                    <div class=\"is-color2\" id=\"profileMain\">\n\n                        <div class=\"tile is-ancestor\">\n                            <div class=\"tile is-vertical\">\n                                <div id=\"profileTitle\">\n                                    <div>\n                                        <h1 class=\"title\">Профиль</h1>\n                                    </div>\n                                    <div class=\"tile is-1\">\n                                        <h2 class=\"header\"> <Link to={this.match.path + \"/edit\"}>Редактировать </Link> </h2>\n                                    </div>\n                                </div>\n\n                                <Route exact path=\"/webApp/users/profile/edit\" render={() => <ProfileEdit user={this.currentUser} />} />\n                                <Route\n                                    exact\n                                    path={this.match.path}\n                                    render={() =>\n                                        <ProfileInfo user={this.currentUser}\n                                            userAvatar={\"/webApp/avatar_\"+this.currentUser.id+\".png\"} />}\n                                />\n\n                            </div>\n                        </div>\n                    </div >\n                </div>\n            );\n    }\n}\n\nexport default Profile;","import React from 'react';\nimport { Component } from 'react';\n\nclass BoatPropertyProgress extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { min: props.min, max: props.max, value: props.value, name: props.name }\n\n    }\n\n    render() {\n\n        return (\n            <div className=\"box\">\n                <p class=\"title is-3\">{this.state.name}</p>\n                <p class=\"subtitle is-5\">{this.state.value}/{this.state.max}</p>\n                <progress class=\"progress is-info\" value={this.state.value} max={this.state.max} min={this.state.min}>{this.state.value}</progress>\n            </div>\n        );\n    }\n\n}\n\nexport default BoatPropertyProgress;","import React from 'react';\nimport { Component } from 'react';\n\nclass PropertyInfo extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { value: props.value, name: props.name }\n\n    }\n\n    render() {\n\n        return (\n            <div className=\"box\">\n                <p class=\"title is-3\">{this.state.name}</p>\n                <p class=\"subtitle is-5\">{this.state.value}</p>\n            </div>\n        );\n    }\n\n}\n\nexport default PropertyInfo;","import React from 'react';\nimport { Component } from 'react';\nimport BoatPropertyProgress from './BoatPropertyProgress';\nimport PropertyInfo from './PropertyInfo';\n\nclass BoatInfo extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { boat: '', details: [], speed: '', boost: '', maxWeight: '', control: '', weight: '', price: '' }\n\n        this.state.boat = props.boat;\n        this.state.details = props.details;\n        this.countProperties = (comp) => {\n            comp.state.details.forEach(function (detail) {\n                comp.state.speed = +detail.speed + +comp.state.speed;\n                comp.state.boost = +detail.boost + +comp.state.boost;\n                comp.state.control = +detail.control + +comp.state.control;\n                comp.state.weight = +detail.weight + +comp.state.weight;\n                comp.state.price = +detail.price + +comp.state.price;\n            });\n\n            comp.state.maxWeight = +comp.state.boat.maxWeight;\n            comp.state.speed = +comp.state.boat.speed + +comp.state.speed;\n            comp.state.boost = +comp.state.boat.boost + +comp.state.boost;\n            comp.state.control = +comp.state.boat.control + +comp.state.control;\n            comp.state.weight = +comp.state.boat.weight + +comp.state.weight;\n            comp.state.price = +comp.state.boat.price + +comp.state.price;\n        }\n    }\n\n    createDetailsTags = () => {\n        let tags = [];\n\n        this.state.details.forEach(function (detail) {\n            tags.push(<span class=\"tag is-warning is-medium\">{detail.name}<button class=\"delete is-small\"></button></span>);\n        });\n        console.log(tags);\n        return tags;\n    }\n\n    render() {\n\n        this.countProperties(this);\n\n\n        return (\n            <div>\n                <div >\n                    <figure class=\"image is-4by3\">\n                        <img src=\"https://bulma.io/images/placeholders/1280x960.png\" alt=\"Placeholder image\" />\n                    </figure>\n                </div>\n                <div >\n                    <h1 class=\"title is-1\">Характеристики</h1>\n                    <BoatPropertyProgress min='0' max='200' value={this.state.speed} name=\"Максимальная скорость\" />\n                    <BoatPropertyProgress min='0' max='150' value={this.state.boost} name=\"Ускорение\" />\n                    <BoatPropertyProgress min='0' max='60' value={this.state.maxWeight} name=\"Грузоподъемность\" />\n                    <BoatPropertyProgress min='0' max='10' value={this.state.control} name=\"Управляемость\" />\n                    <PropertyInfo name='Вес' value={this.state.weight} />\n                    <PropertyInfo name='Цена' value={this.state.price} />\n\n                    <div class=\"tags\">\n                        {this.createDetailsTags()}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default BoatInfo;","import React from 'react';\nimport { Component } from 'react';\n\nclass DetailsGroup extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { name: props.name, details: props.details }\n    }\n\n    createDetailsPics = () => {\n        let detailsPics = []\n\n        this.state.details.forEach(detail => {\n            let detailCard =<div class=\"tile is-1\"><figure class=\"image is-128x128\"><img src=\"https://dfg.ng\" /></figure></div>;\n\n            detailsPics.push(detailCard);\n\n        });\n\n        return detailsPics;\n\n    }\n\n    render() {\n        return (\n            <div className=\"box\">\n                <p class=\"title is-3\">{this.state.name}</p>\n                <div class=\"tile is-ancestor\">\n                    {this.createDetailsPics()}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default DetailsGroup;","import React from 'react';\r\nimport { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Tooltip extends React.Component {\r\nconstructor(props){\r\n\tsuper(props);\r\n\tthis.toggle = this.toggle.bind(this);\r\n\tthis.state = {opacity: false};\r\n}\r\n\r\ntoggle(){\r\n\tconst tooltipNode = ReactDOM.findDOMNode(this)\r\n\tthis.setState({\r\n\t\topacity: !this.state.opacity,\r\n\t\ttop: tooltipNode.offsetTop,\r\n\t\tleft: tooltipNode.offsetLeft,\r\n\t})\r\n\r\n}\r\n\r\nrender(){\r\n\tconst style = {\r\n\t\tzIndex: (this.state.opacity) ? 1000 : -1000,\r\n\t\topacity: +this.state.opacity,\r\n\t\ttop: (this.state.top || 0) + 20,\r\n\t\tleft: (this.state.left || 0) - 30,\r\n\t}\r\n\t\treturn (\r\n\t\t\t\t\t<div style= {{display: \"inline\"}}>\r\n\t\t\t\t\t\t<span style={{color: \"blue\"}}\r\n\t\t\t\t\t\tonMouseEnter={this.toggle}\r\n\t\t\t\t\t\tonMouseOut={this.toggle}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.props.children}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<div className=\"tooltip bottom\" style={style}>\r\n\t\t\t\t\t\t\t<div className=\"tooltip-arrow\"> </div>\r\n\t\t\t\t\t\t\t<div className=\"tooltip-inner\">\r\n\t\t\t\t\t\t\t\tХарактеристики: <br/>\r\n\t\t\t\t\t\t\t\tМаксимальная скорость: {this.props.speedEffect} <br/>\r\n\t\t\t\t\t\t\t\tУскорение: {this.props.boostEffect} <br/>\r\n\t\t\t\t\t\t\t\tУправляемость: {this.props.controllabilityEffect} <br/>\r\n\t\t\t\t\t\t\t\tВес:  {this.props.weight} <br/>\r\n\t\t\t\t\t\t\t\tЦена: {this.props.price} \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t);\r\n\t\r\n}\r\n\r\n}\r\n\r\nexport default Tooltip;","import React from 'react';\nimport { Component } from 'react';\nimport Header from \"../Header\";\nimport BoatInfo from \"./BoatInfo\";\nimport DetailsGroup from \"./DetailsGroup\";\nimport BoatPropertyProgress from './BoatPropertyProgress';\nimport PropertyInfo from './PropertyInfo';\nimport AvatarComponent from '../AvatarComponent';\nimport MenuComponent from '../MenuComponent';\n\nimport Tooltip from './Tooltip';\n\nimport \"../../Profile.scss\";\n\n\n\nclass BoatConstructor extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = { details: [], activeBoat: '', activeProducer: { details: [] }, speed: '', boost: '', maxWeight: '', control: '', weight: '', price: '', boats: [], producers: [] }\n\n        this.getProducers();\n        this.getBoats();\n\n        this.countProperties(this.state.activeBoat);\n\n    }\n\n    getProducers = () => {\n        fetch('/webApp/commands/producers/all', {\n            method: 'GET'\n        })\n            .then((response) => {\n                if (!response.ok)\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\n                else {\n                    response.json().then((resp) => {\n                        this.state.producers = resp;\n                        this.state.activeProducer = resp[0];\n                        console.log(\"Got producers\", resp);\n                        console.log(\"Active producer now:\", this.state.activeProducer);\n                        this.forceUpdate();\n                    }).catch((err) => {\n                        console.log(err);\n                    });\n                }\n            })\n            .catch((error) => {\n                alert('Не получилось отправить запрос: ' + error.statusText);\n            });\n    }\n\n    getBoats = () => {\n        fetch('/webApp/commands/producers/boats/all', {\n            method: 'GET'\n        })\n            .then((response) => {\n                if (!response.ok)\n                    this.handleChange('error', 'Ошибка: неверный ответ от сервера.');\n                else {\n                    response.json().then((resp) => {\n                        this.state.boats = resp;\n                        this.state.activeBoat = resp[0];\n                        console.log(\"Got boats:\", resp);\n                        console.log(\"Active boat now:\", this.state.activeBoat);\n                        this.countProperties(this.state.activeBoat);\n                        this.forceUpdate();\n                    }).catch((err) => {\n                        console.log(err.message);\n                    });\n                }\n            })\n            .catch((error) => {\n                alert('Не получилось отправить запрос: ' + error.statusText);\n            });\n    }\n\n    addDetail = (detail) => {\n\n        let types =[]\n\n        for(let i =0; i < this.state.details.length; i++)\n            types.push(this.state.details[i].type);\n\n        if (types.indexOf(detail.type) === -1) {\n            this.state.details.push(detail);\n            this.countProperties(this.state.activeBoat);\n            this.forceUpdate();\n        }\n    }\n\n    deleteDetail = (index) => {\n        this.state.speed = -this.state.details[index].speedEffect + +this.state.speed;\n        this.state.boost = -this.state.details[index].boostEffect + +this.state.boost;\n        this.state.control = -this.state.details[index].controllabilityEffect + +this.state.control;\n        this.state.weight = -this.state.details[index].weight + +this.state.weight;\n        this.state.price = -this.state.details[index].price + +this.state.price;\n\n        this.state.details.splice(index, 1);\n        this.forceUpdate();\n    }\n\n    createDetailsGroupsFromProducer = (producer) => {\n        let groupsNames = [];\n\n        for (let i = 0; i < producer.details.length; i++)\n            if (groupsNames.indexOf(producer.details[i].type) === -1)\n                groupsNames.push(producer.details[i].type);\n\n        let detailsGroups = [];\n\n        for (let i = 0; i < groupsNames.length; i++) {\n            let details = [];\n            for (let j = 0; j < producer.details.length; j++)\n                if (groupsNames[i] == producer.details[j].type) {\n                    details.push(producer.details[j]);\n                }\n\n            console.log(\"Details in group \" + groupsNames[i], details);\n\n            let detailsPics = []\n\n            details.forEach(detail => {\n                let boostEffect1 = detail.boostEffect;\n                let controllabilityEffect1 = detail.controllabilityEffect;\n                let speedEffect1 = detail.speedEffect;\n                let price1 = detail.price;\n                let weight1 = detail.weight;\n\n                let detailCard = \n                <button onClick={() => this.addDetail(detail)}>\n                    <figure class=\"image is-128x128\"><AvatarComponent userid={\"/webApp/detail_\" + detail.id + \".png\"} />\n                    </figure> \n                       <Tooltip boostEffect={boostEffect1} controllabilityEffect={controllabilityEffect1} speedEffect={speedEffect1} price={price1} weight={weight1}> INFO</Tooltip>\n                    </button>;\n\n                detailsPics.push(detailCard);\n\n            });\n\n            detailsGroups.push(<div className=\"box\">\n                <p class=\"title is-3\">{groupsNames[i]}</p>\n                <div class=\"tile is-ancestor\">\n                    {detailsPics}\n                </div>\n            </div>);\n        }\n\n        return detailsGroups;\n    }\n\n    handleBoatChange = (e) => {\n        let selectItem = document.getElementById(\"boatSelect\");\n        let value = selectItem.options[selectItem.selectedIndex].value;\n        console.log(\"change boat:\", value);\n        this.setState({ activeBoat: this.state.boats[value] });\n        this.forceUpdate();\n    }\n\n    handleProducerChange = (e) => {\n        let selectItem = document.getElementById(\"producerSelect\");\n        let value = selectItem.options[selectItem.selectedIndex].value;\n        console.log(\"change producer\", value);\n        this.setState({ activeProducer: this.state.producers[value] });\n        this.forceUpdate();\n    }\n\n    createBoatsOptions = () => {\n        let options = [];\n\n        for (let i = 0; i < this.state.boats.length; i++) {\n            options.push(<option value={i}>{this.state.boats[i].type}</option>);\n            console.log(\"Option boat:\", this.state.boats[i].type);\n        }\n        return options;\n    }\n\n    createProducersOptions = () => {\n        let options = [];\n\n        for (let i = 0; i < this.state.producers.length; i++) {\n            options.push(<option value={i}>{this.state.producers[i].name}</option>);\n            console.log(\"Option producer:\", this.state.producers[i].name);\n        }\n\n        return options;\n    }\n\n    countProperties = (activeBoat) => {\n\n        this.state.maxWeight = 0;\n        this.state.speed = 0;\n        this.state.boost = 0;\n        this.state.control = 0;\n        this.state.weight = 0;\n        this.state.price = 0;\n\n\n        for (let i = 0; i < this.state.details.length; i++) {\n            let detail = this.state.details[i];\n            this.state.speed = +detail.speedEffect + +this.state.speed;\n            this.state.boost = +detail.boostEffect + +this.state.boost;\n            this.state.control = +detail.controllabilityEffect + +this.state.control;\n            this.state.weight = +detail.weight + +this.state.weight;\n            this.state.price = +detail.price + +this.state.price;\n        }\n        this.state.maxWeight = activeBoat.loadCapacity;\n        this.state.speed = +activeBoat.maxSpeed + +this.state.speed;\n        this.state.boost = +activeBoat.boost + +this.state.boost;\n        this.state.control = +activeBoat.controllability + +this.state.control;\n        this.state.weight = +activeBoat.weight + +this.state.weight;\n        this.state.price = +activeBoat.price + +this.state.price;\n    }\n\n    createDetailsTags = () => {\n        let tags = [];\n\n        for (let i = 0; i < this.state.details.length; i++) {\n            tags.push(<span class=\"tag is-warning is-medium\">{this.state.details[i].type}<button class=\"delete is-small\" onClick={() => this.deleteDetail(i)}></button></span>);\n        }\n        console.log(tags);\n        return tags;\n    }\n\n    render() {\n        console.log(\"active boat\", this.state.activeBoat);\n\n        document.title = \"Boat constructor page\";\n\n        return (\n            <div>\n                <MenuComponent />\n                <div class=\"is-color2 \" id=\"boatConstructorMain\">\n\n                    <div class=\"tile is-ancestor\">\n                        <div class=\"tile is-4 is-color3-light is-vertical\">\n                            <h1 class=\"title is-1\">Лодка</h1>\n                            <div class=\"field\">\n                                <div class=\"control\">\n                                    <div class=\"select is-medium\">\n                                        <select id=\"boatSelect\" onChange={this.handleBoatChange}>\n                                            {this.createBoatsOptions()}\n                                        </select>\n                                    </div>\n\n                                </div>\n                            </div>\n                            <div>\n                                <div >\n                                    <figure class=\"image is-4by3\">\n                                        <AvatarComponent userid={\"/webApp/boat_\" + this.state.activeBoat.id + \".png\"} />\n                                    </figure>\n                                </div>\n                                <div >\n                                    <h1 class=\"title is-1\">Характеристики</h1>\n                                    <div className=\"box\">\n                                        <p class=\"title is-3\">Максимальная скорость</p>\n                                        <p class=\"subtitle is-5\">{this.state.speed}/1500</p>\n                                        <progress class=\"progress is-info\" value={this.state.speed} max={1500} min={0}>{this.state.speed}</progress>\n                                    </div>\n                                    <div className=\"box\">\n                                        <p class=\"title is-3\">Ускорение</p>\n                                        <p class=\"subtitle is-5\">{this.state.boost} /500</p>\n                                        <progress class=\"progress is-info\" value={this.state.boost} max={500} min={0}>{this.state.boost} </progress>\n                                    </div>\n                                    <div className=\"box\">\n                                        <p class=\"title is-3\">Грузоподъемность</p>\n                                        <p class=\"subtitle is-5\">{this.state.maxWeight}/500</p>\n                                        <progress class=\"progress is-info\" value={this.state.maxWeight} max={500} min={0}>{this.state.maxWeight}</progress>\n                                    </div>\n                                    <div className=\"box\">\n                                        <p class=\"title is-3\">Управляемость</p>\n                                        <p class=\"subtitle is-5\">{this.state.control}/300</p>\n                                        <progress class=\"progress is-info\" value={this.state.control} max={300} min={0}>{this.state.control}</progress>\n                                    </div>\n                                    <div className=\"box\">\n                                        <p class=\"title is-3\">Вес</p>\n                                        <p class=\"subtitle is-5\">{this.state.weight}</p>\n                                    </div>\n                                    <div className=\"box\">\n                                        <p class=\"title is-3\">Цена</p>\n                                        <p class=\"subtitle is-5\">{this.state.price}</p>\n                                    </div>\n\n                                    <div class=\"tags\">\n                                        {this.createDetailsTags()}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"tile is-color3-light is-vertical\">\n                            <h1 class=\"title is-1\">Детали</h1>\n                            <div class=\"field\">\n                                <div class=\"control\">\n                                    <div class=\"select is-medium\">\n                                        <select id=\"producerSelect\" onChange={this.handleProducerChange}>\n                                            {this.createProducersOptions()}\n                                        </select>\n                                    </div>\n\n                                </div>\n                            </div>\n                            {this.createDetailsGroupsFromProducer(this.state.activeProducer)}\n                        </div>\n                    </div>\n                </div >\n            </div>\n        );\n    }\n}\n\nexport default BoatConstructor;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport { render } from 'react-dom';\nimport { Switch } from 'react-router';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport StartPage from '../src/Components/StartPage';\nimport Snackbar from 'react-toolbox/lib/snackbar/Snackbar';\nimport Main from '../src/Components/Main';\nimport ForumSections from '../src/Components/ForumSectionsComponent';\nimport ForumTopics from '../src/Components/ForumTopicsComponent';\nimport ForumRecords from '../src/Components/ForumRecordsComponent';\nimport Message from '../src/Components/MessageComponent';\nimport Dialog from '../src/Components/DialogWithUsers';\nimport Profile from \"./Components/Profile/Profile\";\nimport BoatConstructor from \"./Components/BoatConstructor/BoatConstructor\";\nimport './App.css';\n\nclass App extends Component {\n\n  render() {\n\n    return (\n      <div>\n        <Router>\n          <Switch>\n            <Route path=\"/webApp/dialog\" component={Dialog} />\n            <Route path=\"/webApp/message\" component={Message} />\n            <Route path=\"/webApp/records\" component={ForumRecords} />\n            <Route path=\"/webApp/topics\" component={ForumTopics} />\n            <Route path=\"/webApp/sections\" component={ForumSections} />\n            <Route path=\"/webApp/users/profile\" component={Profile} />\n            <Route path=\"/webApp/boats\" component={BoatConstructor} />\n            <Route path=\"/\" component={Main} />\n          </Switch>\n        </Router>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport { render } from 'react-dom';\nimport {Switch} from 'react-router';\nimport './index.css';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport ThemeProvider from 'react-toolbox/lib/ThemeProvider';\nimport theme from './react-toolbox/theme';\nimport './react-toolbox/theme.css';\nimport App from '../src/App';\nimport StartPage from '../src/Components/StartPage';\nimport Main from '../src/Components/Main';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render((\n<ThemeProvider theme={theme}>\n <App/>\n </ThemeProvider>\n), document.getElementById('root'));\n\n   \n\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/utocka.5403c0a3.png\";","module.exports={\"RTButton\":{\"button\":\"_1T6gd\",\"rippleWrapper\":\"_3rch8\",\"squared\":\"x_Fgj\",\"icon\":\"t6_L8\",\"solid\":\"HUuyg\",\"raised\":\"_33l7R _1T6gd x_Fgj HUuyg\",\"flat\":\"_2JPw5 _1T6gd x_Fgj\",\"floating\":\"_2U_a5 _1T6gd HUuyg\",\"mini\":\"_2for7\",\"toggle\":\"_3xRDd _1T6gd\",\"primary\":\"_29RI9\",\"accent\":\"mWBhu\",\"neutral\":\"_3ViU3\",\"inverse\":\"_1kgaQ\"},\"RTRipple\":{\"rippleWrapper\":\"cNe4x\",\"ripple\":\"_1zJTi\",\"rippleRestarting\":\"_3wQEe\",\"rippleActive\":\"_1eRuo\"},\"RTInput\":{\"input\":\"_2dBwA\",\"withIcon\":\"_2uwUs\",\"icon\":\"_2H9rJ\",\"inputElement\":\"_2WvFs\",\"bar\":\"fT1WI\",\"label\":\"_3NjcG\",\"fixed\":\"_1ANNN\",\"required\":\"HMiz1\",\"hint\":\"_1yQnr\",\"filled\":\"_3QmiH\",\"error\":\"_1p4yC\",\"counter\":\"_2dI1B\",\"disabled\":\"_2sOZC\",\"errored\":\"ZsBmg\",\"hidden\":\"_3Wr_7\"},\"RTNavigation\":{\"horizontal\":\"_1LRT1\",\"vertical\":\"_1A_xp\"},\"RTLink\":{\"icon\":\"_15_xe\",\"link\":\"_2EYXG\",\"active\":\"_5HYX\"},\"RTAppBar\":{\"appBar\":\"_3gTh_\",\"scrollHide\":\"_3S2IT\",\"flat\":\"tf7de\",\"fixed\":\"_3jqvO\",\"inner\":\"p2nb7\",\"title\":\"_3Tmun\",\"leftIcon\":\"HDVfX\",\"rightIcon\":\"_2DC6l\"}}"],"sourceRoot":""}